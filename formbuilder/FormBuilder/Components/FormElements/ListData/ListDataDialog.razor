@using FormBuilder.Components.Shared
@using FormBuilder.Factories


<RepetitionRuleComponent RepetitionRule="@Record.RepetitionRule" RecordType="@RecordType"></RepetitionRuleComponent>

@code {
    [Inject] private IFormElementDefinitionFactory formElementDefinitionFactory { get; set; }
    [Parameter] public ListDataRecord Record { get; set; }
    private Type RecordType { get; set; }

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        if(RecordType == null && Record != null)
        {
            var formEltDefinition = formElementDefinitionFactory.Build(Record.FieldType);
            RecordType = formEltDefinition.RecordType;
        }
    }
}
