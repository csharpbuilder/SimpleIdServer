@using FormBuilder
@using FormBuilder.Components.Workflow
@using Microsoft.AspNetCore.Http
@using Microsoft.Extensions.Options
@model FormBuilder.UIs.WorkflowViewModel
@inject IOptions<FormBuilderOptions> options
@inject IHttpContextAccessor HttpContextAccessor;

@{
    Layout = "~/Views/Shared/_FormBuilderLayout.cshtml";
    var antiforgeryToken = HttpContextAccessor.HttpContext.Request.Cookies[options.Value.AntiforgeryCookieName];
    Model.AntiforgeryToken.CookieValue = antiforgeryToken;
    string s = "";
}

<component type="typeof(WorkflowViewer)"
           render-mode="ServerPrerendered"
           param-Input="@Model.Input"
           param-Workflow="@Model.Workflow"
           param-Records="@Model.FormRecords"
           param-CurrentStepId="@Model.CurrentStepId"
           param-Antifogery="@Model.AntiforgeryToken" />