@using Microsoft.AspNetCore.Mvc.Controllers
@using Microsoft.AspNetCore.Mvc.Infrastructure
@using Radzen
@using Radzen.Blazor

<!-- Controller -->
<RadzenFormField Variant="Variant.Outlined" Text="Controller" class="fullWidth">
    <RadzenTextBox @bind-Value="@Record.Controller"></RadzenTextBox>
</RadzenFormField>
<!-- Action -->
<RadzenFormField Variant="Variant.Outlined" Text="Action" class="fullWidth">
    <RadzenTextBox @bind-Value="@Record.Action"></RadzenTextBox>
</RadzenFormField>
<!-- Query parameter -->
<RadzenFormField Variant="Variant.Outlined" Text="Name of the query parameter" class="fullWidth">
    <RadzenTextBox @bind-Value="@Record.QueryParameterName"></RadzenTextBox>
</RadzenFormField>

@code {
    [Parameter] public ControllerActionTransformerParameters Record { get; set; }
    [Inject] public IActionDescriptorCollectionProvider ActionCollectionProvider { get; set; }


    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);
        if(firstRender)
        {
            var descriptors = ActionCollectionProvider.ActionDescriptors.Items.OfType<ControllerActionDescriptor>();
            
        }
    }

    record ControllerAction
    {
        public string ControllerName { get; set; }
        public string ActionName { get; set; }
    }
}